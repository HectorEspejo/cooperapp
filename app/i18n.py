SUPPORTED_LANGUAGES = ("es", "fr", "en")

TRANSLATIONS = {
    "es": {
        # Login
        "login.title": "Acceso Contraparte - CooperApp",
        "login.subtitle": "Portal de Contraparte",
        "login.error_empty": "Introduce un codigo de proyecto.",
        "login.error_invalid": "Codigo de proyecto no valido o el proyecto no esta en ejecucion.",
        "login.code_label": "Codigo de Proyecto",
        "login.code_placeholder": "Ej: PRY-2024-001",
        "login.code_help": "Introduce el codigo contable del proyecto para acceder.",
        "login.submit": "Acceder al Portal",
        "login.or": "o",
        "login.internal_access": "Acceso interno (Microsoft)",
        "login.language": "Idioma",
        # Portal / navbar
        "portal.counterpart": "Contraparte",
        "portal.logout": "Cerrar sesion",
        "portal.marco_logico": "Marco Logico",
        "portal.documentos": "Documentos",
        "portal.loading": "Cargando...",
        "portal.presupuesto": "Presupuesto",
        "portal.gastos": "Gastos",
        # Expenses
        "expenses.new_expense": "Nuevo Gasto",
        "expenses.submit_expense": "Registrar Gasto",
        "expenses.counterpart_notice": "Este gasto se enviara directamente a revision por el coordinador del proyecto.",
        "expenses.upload_receipt": "Subir Justificante",
        # Budget
        "budget.title": "Presupuesto",
        "budget.subvencion": "Subvencion (EUR)",
        "budget.total_approved": "Total Aprobado",
        "budget.available": "Disponible",
        "budget.assigned": "Asignado",
        "budget.max_indirect": "Max. indirectos",
        "budget.max_personnel": "Max. personal",
        "budget.audit_optional": "Auditoria opcional (subvencion < 30.000 EUR)",
        "budget.col_code": "Codigo",
        "budget.col_item": "Partida",
        "budget.col_approved": "Aprobado",
        "budget.col_exec_spain": "Ejec. Espana",
        "budget.col_exec_field": "Ejec. Terreno",
        "budget.col_total_exec": "Total Ejec.",
        "budget.col_difference": "Diferencia",
        "budget.col_exec_pct": "% Ejec.",
        "budget.spain_only": "Solo Espana",
        "budget.max_pct": "max",
        "budget.optional_badge": "Opcional para subvenciones < 30.000 EUR",
        "budget.distribute_by_funder": "Distribuir por financiador",
        "budget.deviation_alert": "Desviacion mayor al 10%",
        "budget.max_exceeded": "Excede el porcentaje maximo",
        "budget.subtotal": "Subtotal",
        "budget.legend_spain_only": "Partida solo Espana",
        "budget.legend_deviation": "Desviacion > 10%",
        "budget.legend_indirect_exceeded": "Indirectos >",
        "budget.legend_personnel_exceeded": "Personal >",
        "budget.legend_optional": "Partida opcional",
        "budget.no_budget": "Sin presupuesto configurado",
        "budget.no_budget_desc": "El financiador actual no tiene plantillas de presupuesto definidas, o el presupuesto no se ha inicializado correctamente.",
        "budget.select_funder_help": "Si deseas usar las plantillas de otro financiador, selecciona uno a continuacion:",
        "budget.funder_label": "Financiador",
        "budget.select_funder": "Selecciona un financiador...",
        "budget.initialize": "Inicializar Presupuesto",
        "budget.distribution_title": "Distribucion por Financiador",
        "budget.distribution_total": "Total:",
        "budget.save_distribution": "Guardar Distribucion",
        # Budget - funding summary
        "budget.funding_by_source": "Financiacion por Fuente",
        "budget.col_source": "Fuente",
        "budget.col_executed": "Ejecutado",
        # Budget - funding sources
        "budget.funding_sources": "Fuentes de Financiacion",
        "budget.source_agencia": "Agencia",
        "budget.source_prodiversa": "Prodiversa",
        "budget.source_contraparte": "Contraparte",
        "budget.source_otro": "Otro",
        "budget.delete_source": "Eliminar fuente",
        "budget.confirm_delete_source": "Eliminar la fuente? Solo es posible si no tiene gastos asociados.",
        "budget.source_name_placeholder": "Nombre del financiador",
        "budget.add_source": "+ Anadir Fuente",
        # Budget - category names
        "budget.cat.servicios": "Servicios",
        "budget.cat.personal": "Personal",
        "budget.cat.gastos_directos": "Gastos Directos",
        "budget.cat.inversiones": "Inversiones",
        "budget.cat.indirectos": "Costes Indirectos",
        # Budget lines - AACID
        "bl.AACID.A.I.1": "Identificacion y formulacion",
        "bl.AACID.A.I.2": "Evaluacion externa",
        "bl.AACID.A.I.3": "Auditoria externa",
        "bl.AACID.A.I.4": "Otros servicios tecnicos",
        "bl.AACID.A.I.5": "Arrendamientos",
        "bl.AACID.A.I.6": "Materiales y suministros",
        "bl.AACID.A.I.7": "Gastos de funcionamiento",
        "bl.AACID.A.I.8": "Viajes y dietas",
        "bl.AACID.A.I.9.a": "Personal local",
        "bl.AACID.A.I.9.b": "Personal expatriado",
        "bl.AACID.A.I.9.c": "Personal sede",
        "bl.AACID.A.I.10": "Voluntariado",
        "bl.AACID.A.I.11": "Testimonio",
        "bl.AACID.A.I.12": "Sensibilizacion",
        "bl.AACID.A.I.13": "Gastos bancarios",
        "bl.AACID.A.I.14": "Fondo rotatorio",
        "bl.AACID.A.II.1": "Terrenos",
        "bl.AACID.A.II.2": "Obras",
        "bl.AACID.A.II.3": "Equipos",
        "bl.AACID.B": "Costes indirectos",
        # Budget lines - AECID
        "bl.AECID.AI.1": "Personal local",
        "bl.AECID.AI.2": "Personal expatriado",
        "bl.AECID.AI.3": "Personal voluntario",
        "bl.AECID.AI.4": "Personal en sede en Espana",
        "bl.AECID.AI.5": "Viajes, alojamientos y dietas",
        "bl.AECID.AI.6": "Equipos, materiales y suministros",
        "bl.AECID.AI.7": "Servicios tecnicos y profesionales",
        "bl.AECID.AI.8": "Funcionamiento",
        "bl.AECID.AI.9": "Auditorias",
        "bl.AECID.AI.10": "Evaluaciones",
        "bl.AECID.AI.11": "Otros gastos directos",
        "bl.AECID.B": "Costes indirectos",
        # Budget lines - DIPU
        "bl.DIPU.1": "Personal local",
        "bl.DIPU.2": "Personal expatriado",
        "bl.DIPU.3": "Personal en sede",
        "bl.DIPU.4": "Dietas y desplazamientos",
        "bl.DIPU.5": "Equipamientos y suministros",
        "bl.DIPU.6": "Ejecucion tecnica (obras, servicios)",
        "bl.DIPU.7": "Funcionamiento y mantenimiento",
        "bl.DIPU.8": "Auditoria y evaluacion",
        "bl.DIPU.9": "Gastos administrativos/indirectos",
        # Budget lines - AYTO
        "bl.AYTO.1": "Gastos de personal",
        "bl.AYTO.2": "Gastos corrientes",
        "bl.AYTO.3": "Gastos de inversion",
        "bl.AYTO.4": "Gastos de viaje y desplazamiento",
        "bl.AYTO.5": "Gastos de auditoria/evaluacion",
        "bl.AYTO.6": "Costes indirectos",
        # Expenses - summary
        "expenses.registered": "Registrados",
        "expenses.pending": "Pendientes",
        "expenses.validated": "Validados",
        "expenses.justified": "Justificados",
        "expenses.total_registered": "Total registrado:",
        "expenses.total_validated": "Validado:",
        "expenses.spain": "Espana",
        "expenses.field": "Terreno",
        # Expenses - filters
        "expenses.all_lines": "Todas las partidas",
        "expenses.all_states": "Todos los estados",
        "expenses.state_draft": "Borrador",
        "expenses.state_pending": "Pendiente revision",
        "expenses.state_validated": "Validado",
        "expenses.state_rejected": "Rechazado",
        "expenses.state_justified": "Justificado",
        "expenses.all_locations": "Todas las ubicaciones",
        "expenses.all_funders": "Todos los financiadores",
        # Expenses - table headers
        "expenses.col_date": "Fecha",
        "expenses.col_concept": "Concepto",
        "expenses.col_doc": "Doc",
        "expenses.col_issuer": "Expedidor",
        "expenses.col_line": "Partida",
        "expenses.col_amount": "Importe",
        "expenses.col_imputable": "Imputable",
        "expenses.col_funded_by": "Financiado por",
        "expenses.col_location": "Ubicacion",
        "expenses.col_state": "Estado",
        "expenses.col_actions": "Acciones",
        # Expenses - table states
        "expenses.badge_draft": "Borrador",
        "expenses.badge_pending": "Pendiente",
        "expenses.badge_validated": "Validado",
        "expenses.badge_rejected": "Rechazado",
        "expenses.badge_justified": "Justificado",
        # Expenses - actions
        "expenses.view_doc": "Ver documento",
        "expenses.upload_invoice": "Subir factura (requerido para validar)",
        "expenses.no_doc": "Sin documento",
        "expenses.edit": "Editar",
        "expenses.validate": "Validar",
        "expenses.confirm_validate": "Validar este gasto? Se actualizara el presupuesto ejecutado.",
        "expenses.confirm_validate_short": "Validar este gasto?",
        "expenses.doc_required": "Debe adjuntar factura para validar",
        "expenses.delete": "Eliminar",
        "expenses.confirm_delete": "Eliminar este gasto?",
        "expenses.reject": "Rechazar",
        "expenses.confirm_reject": "Rechazar este gasto?",
        "expenses.revert_draft": "Volver a borrador",
        "expenses.confirm_revert": "Revertir a borrador? Se restara el importe del presupuesto ejecutado.",
        "expenses.no_expenses": "Sin gastos registrados",
        "expenses.no_expenses_desc": "No hay gastos registrados para este proyecto. Haz clic en \"Nuevo Gasto\" para comenzar.",
        # Expenses - form
        "expenses.edit_expense": "Editar Gasto",
        "expenses.invoice_date": "Fecha Factura",
        "expenses.budget_line": "Partida Presupuestaria",
        "expenses.select_line": "Seleccionar partida...",
        "expenses.concept": "Concepto",
        "expenses.concept_placeholder": "Descripcion del gasto",
        "expenses.issuer": "Expedidor",
        "expenses.issuer_placeholder": "Nombre del proveedor",
        "expenses.person": "Persona",
        "expenses.person_placeholder": "Persona responsable (opcional)",
        "expenses.amounts": "Importes",
        "expenses.original_amount": "Importe Original",
        "expenses.currency": "Moneda",
        "expenses.exchange_rate": "Tipo de Cambio",
        "expenses.amount_eur": "Importe en EUR",
        "expenses.imputation_pct": "% Imputacion",
        "expenses.imputable_amount": "Importe imputable:",
        "expenses.location": "Ubicacion",
        "expenses.funded_by": "Financiado por",
        "expenses.notes": "Observaciones",
        "expenses.notes_placeholder": "Notas adicionales (opcional)",
        "expenses.cancel": "Cancelar",
        "expenses.save_changes": "Guardar Cambios",
        "expenses.create_expense": "Crear Gasto",
        # Expenses - upload modal
        "expenses.upload_title": "Subir Justificante",
        "expenses.upload_label": "Documento justificante (factura)",
        "expenses.upload_hint": "Formatos: PDF, imagenes, Word, Excel",
        "expenses.upload_doc": "Subir documento",
        "expenses.expense_label": "Gasto:",
        "expenses.line_label": "Partida:",
        "expenses.amount_label": "Importe:",
        # Timer
        "timer.hours_remaining": "restantes",
        "timer.expired": "Sesion expirada",
        # Marco Logico - tab
        "ml.general_objective": "Objetivo General",
        "ml.save": "Guardar",
        "ml.general_objective_indicators": "Indicadores del Objetivo General",
        "ml.add_indicator": "+ Indicador",
        "ml.framework_structure": "Estructura del Marco Logico",
        "ml.add_specific_objective": "+ Objetivo Especifico",
        "ml.describe_general_objective": "Describa el objetivo general del proyecto...",
        # Marco Logico - summary
        "ml.objectives": "Objetivos",
        "ml.results": "Resultados",
        "ml.activities": "Actividades",
        "ml.indicators": "Indicadores",
        "ml.average_progress": "Avance Medio",
        "ml.completed": "Completadas",
        "ml.in_progress": "En curso",
        "ml.pending": "Pendientes",
        # Marco Logico - tree
        "ml.no_objectives": "No hay objetivos especificos definidos.",
        "ml.click_add_objective": "Haga clic en \"+ Objetivo Especifico\" para comenzar.",
        "ml.add_result": "Anadir Resultado",
        "ml.add_indicator_title": "Anadir Indicador",
        "ml.edit_objective": "Editar Objetivo",
        "ml.delete": "Eliminar",
        "ml.confirm_delete_objective": "Eliminar este objetivo y todos sus elementos?",
        # Marco Logico - result
        "ml.add_activity": "Anadir Actividad",
        "ml.edit_result": "Editar Resultado",
        "ml.confirm_delete_result": "Eliminar este resultado y todas sus actividades?",
        # Marco Logico - activity
        "ml.verification_sources": "Fuentes de verificacion",
        "ml.no_sources": "sin fuentes",
        "ml.edit_activity": "Editar Actividad",
        "ml.new_activity": "Nueva Actividad",
        "ml.create_activity": "Crear Actividad",
        "ml.confirm_delete_activity": "Eliminar esta actividad?",
        "ml.planned_dates": "Fechas previstas",
        "ml.actual_dates": "Fechas reales",
        # Marco Logico - form fields
        "ml.code": "Codigo",
        "ml.status": "Estado",
        "ml.description": "Descripcion",
        "ml.activity_description_placeholder": "Descripcion de la actividad...",
        "ml.start": "Inicio",
        "ml.end": "Fin",
        "ml.cancel": "Cancelar",
        "ml.save_changes": "Guardar Cambios",
        # Marco Logico - indicator
        "ml.update_value": "Actualizar valor",
        "ml.edit_indicator": "Editar indicador",
        "ml.view_history": "Ver historial",
        "ml.confirm_delete_indicator": "Eliminar este indicador?",
        "ml.base": "Base",
        "ml.target": "Meta",
        "ml.current": "Actual",
        "ml.unit": "Unidad de medida",
        "ml.verification_source": "Fuente de verificacion",
        # Documents - tab
        "docs.total": "Total",
        "docs.sealed": "Sellados",
        "docs.pending": "Pendientes",
        "docs.linked": "Vinculados",
        "docs.unlinked": "Sin vincular",
        "docs.total_size": "Tamano total:",
        "docs.drag_files": "Arrastra archivos aqui o haz clic para seleccionar",
        "docs.category": "Categoria",
        "docs.description_optional": "Descripcion (opcional)",
        "docs.description_placeholder": "Descripcion del documento...",
        "docs.upload": "Subir documento",
        "docs.all_categories": "Todas las categorias",
        "docs.all_statuses": "Todos los estados",
        "docs.sealed_filter": "Sellados",
        "docs.unsealed_filter": "Sin sellar",
        "docs.all": "Todos",
        "docs.linked_filter": "Vinculados",
        "docs.unlinked_filter": "Sin vincular",
        "docs.download_zip_title": "Descargar todos como ZIP",
        "docs.download_zip": "Descargar ZIP",
        # Documents - table
        "docs.col_preview": "Vista",
        "docs.col_document": "Documento",
        "docs.col_size": "Tamano",
        "docs.col_date": "Fecha",
        "docs.col_status": "Estado",
        "docs.col_linked": "Vinculado",
        "docs.col_actions": "Acciones",
        "docs.status_sealed": "Sellado",
        "docs.status_pending": "Pendiente",
        "docs.status_unlinked": "Sin vincular",
        "docs.verification_sources_count": "fuente(s) de verificacion",
        "docs.download": "Descargar",
        "docs.preview_action": "Previsualizar",
        "docs.seal_document": "Sellar documento",
        "docs.confirm_seal": "Sellar este documento? Esta accion no se puede deshacer.",
        "docs.confirm_delete": "Eliminar este documento?",
        "docs.no_documents": "No hay documentos",
        "docs.upload_first": "Sube el primer documento usando el formulario de arriba.",
        # Documents - preview modal
        "docs.preview_unavailable": "Vista previa no disponible para este tipo de archivo.",
        "docs.download_file": "Descargar archivo",
        "docs.info_category": "Categoria:",
        "docs.info_size": "Tamano:",
        "docs.info_uploaded": "Subido:",
        "docs.info_sealed": "Sellado:",
        "docs.yes": "Si",
        "docs.close": "Cerrar",
    },
    "fr": {
        # Login
        "login.title": "Acces Contrepartie - CooperApp",
        "login.subtitle": "Portail de la Contrepartie",
        "login.error_empty": "Veuillez saisir un code de projet.",
        "login.error_invalid": "Code de projet invalide ou le projet n'est pas en cours d'execution.",
        "login.code_label": "Code du Projet",
        "login.code_placeholder": "Ex: PRY-2024-001",
        "login.code_help": "Saisissez le code comptable du projet pour acceder.",
        "login.submit": "Acceder au Portail",
        "login.or": "ou",
        "login.internal_access": "Acces interne (Microsoft)",
        "login.language": "Langue",
        # Portal / navbar
        "portal.counterpart": "Contrepartie",
        "portal.logout": "Deconnexion",
        "portal.marco_logico": "Cadre Logique",
        "portal.documentos": "Documents",
        "portal.loading": "Chargement...",
        "portal.presupuesto": "Budget",
        "portal.gastos": "Depenses",
        # Expenses
        "expenses.new_expense": "Nouvelle Depense",
        "expenses.submit_expense": "Enregistrer",
        "expenses.counterpart_notice": "Cette depense sera envoyee directement en revision par le coordinateur du projet.",
        "expenses.upload_receipt": "Telecharger Justificatif",
        # Budget
        "budget.title": "Budget",
        "budget.subvencion": "Subvention (EUR)",
        "budget.total_approved": "Total Approuve",
        "budget.available": "Disponible",
        "budget.assigned": "Attribue",
        "budget.max_indirect": "Max. indirects",
        "budget.max_personnel": "Max. personnel",
        "budget.audit_optional": "Audit facultatif (subvention < 30.000 EUR)",
        "budget.col_code": "Code",
        "budget.col_item": "Poste",
        "budget.col_approved": "Approuve",
        "budget.col_exec_spain": "Exec. Espagne",
        "budget.col_exec_field": "Exec. Terrain",
        "budget.col_total_exec": "Total Exec.",
        "budget.col_difference": "Difference",
        "budget.col_exec_pct": "% Exec.",
        "budget.spain_only": "Espagne uniquement",
        "budget.max_pct": "max",
        "budget.optional_badge": "Facultatif pour subventions < 30.000 EUR",
        "budget.distribute_by_funder": "Distribuer par financeur",
        "budget.deviation_alert": "Ecart superieur a 10%",
        "budget.max_exceeded": "Depasse le pourcentage maximum",
        "budget.subtotal": "Sous-total",
        "budget.legend_spain_only": "Poste Espagne uniquement",
        "budget.legend_deviation": "Ecart > 10%",
        "budget.legend_indirect_exceeded": "Indirects >",
        "budget.legend_personnel_exceeded": "Personnel >",
        "budget.legend_optional": "Poste facultatif",
        "budget.no_budget": "Aucun budget configure",
        "budget.no_budget_desc": "Le financeur actuel n'a pas de modeles de budget definis, ou le budget n'a pas ete initialise correctement.",
        "budget.select_funder_help": "Si vous souhaitez utiliser les modeles d'un autre financeur, selectionnez-en un ci-dessous:",
        "budget.funder_label": "Financeur",
        "budget.select_funder": "Selectionnez un financeur...",
        "budget.initialize": "Initialiser le Budget",
        "budget.distribution_title": "Distribution par Financeur",
        "budget.distribution_total": "Total:",
        "budget.save_distribution": "Enregistrer la Distribution",
        # Budget - funding summary
        "budget.funding_by_source": "Financement par Source",
        "budget.col_source": "Source",
        "budget.col_executed": "Execute",
        # Budget - funding sources
        "budget.funding_sources": "Sources de Financement",
        "budget.source_agencia": "Agence",
        "budget.source_prodiversa": "Prodiversa",
        "budget.source_contraparte": "Contrepartie",
        "budget.source_otro": "Autre",
        "budget.delete_source": "Supprimer la source",
        "budget.confirm_delete_source": "Supprimer la source? Possible uniquement si elle n'a pas de depenses associees.",
        "budget.source_name_placeholder": "Nom du financeur",
        "budget.add_source": "+ Ajouter Source",
        # Budget - category names
        "budget.cat.servicios": "Services",
        "budget.cat.personal": "Personnel",
        "budget.cat.gastos_directos": "Depenses Directes",
        "budget.cat.inversiones": "Investissements",
        "budget.cat.indirectos": "Couts Indirects",
        # Budget lines - AACID
        "bl.AACID.A.I.1": "Identification et formulation",
        "bl.AACID.A.I.2": "Evaluation externe",
        "bl.AACID.A.I.3": "Audit externe",
        "bl.AACID.A.I.4": "Autres services techniques",
        "bl.AACID.A.I.5": "Locations",
        "bl.AACID.A.I.6": "Materiels et fournitures",
        "bl.AACID.A.I.7": "Frais de fonctionnement",
        "bl.AACID.A.I.8": "Voyages et indemnites",
        "bl.AACID.A.I.9.a": "Personnel local",
        "bl.AACID.A.I.9.b": "Personnel expatrie",
        "bl.AACID.A.I.9.c": "Personnel du siege",
        "bl.AACID.A.I.10": "Volontariat",
        "bl.AACID.A.I.11": "Temoignage",
        "bl.AACID.A.I.12": "Sensibilisation",
        "bl.AACID.A.I.13": "Frais bancaires",
        "bl.AACID.A.I.14": "Fonds de roulement",
        "bl.AACID.A.II.1": "Terrains",
        "bl.AACID.A.II.2": "Travaux",
        "bl.AACID.A.II.3": "Equipements",
        "bl.AACID.B": "Couts indirects",
        # Budget lines - AECID
        "bl.AECID.AI.1": "Personnel local",
        "bl.AECID.AI.2": "Personnel expatrie",
        "bl.AECID.AI.3": "Personnel volontaire",
        "bl.AECID.AI.4": "Personnel au siege en Espagne",
        "bl.AECID.AI.5": "Voyages, hebergements et indemnites",
        "bl.AECID.AI.6": "Equipements, materiels et fournitures",
        "bl.AECID.AI.7": "Services techniques et professionnels",
        "bl.AECID.AI.8": "Fonctionnement",
        "bl.AECID.AI.9": "Audits",
        "bl.AECID.AI.10": "Evaluations",
        "bl.AECID.AI.11": "Autres depenses directes",
        "bl.AECID.B": "Couts indirects",
        # Budget lines - DIPU
        "bl.DIPU.1": "Personnel local",
        "bl.DIPU.2": "Personnel expatrie",
        "bl.DIPU.3": "Personnel du siege",
        "bl.DIPU.4": "Indemnites et deplacements",
        "bl.DIPU.5": "Equipements et fournitures",
        "bl.DIPU.6": "Execution technique (travaux, services)",
        "bl.DIPU.7": "Fonctionnement et maintenance",
        "bl.DIPU.8": "Audit et evaluation",
        "bl.DIPU.9": "Frais administratifs/indirects",
        # Budget lines - AYTO
        "bl.AYTO.1": "Frais de personnel",
        "bl.AYTO.2": "Depenses courantes",
        "bl.AYTO.3": "Depenses d'investissement",
        "bl.AYTO.4": "Frais de voyage et deplacement",
        "bl.AYTO.5": "Frais d'audit/evaluation",
        "bl.AYTO.6": "Couts indirects",
        # Expenses - summary
        "expenses.registered": "Enregistrees",
        "expenses.pending": "En attente",
        "expenses.validated": "Validees",
        "expenses.justified": "Justifiees",
        "expenses.total_registered": "Total enregistre:",
        "expenses.total_validated": "Valide:",
        "expenses.spain": "Espagne",
        "expenses.field": "Terrain",
        # Expenses - filters
        "expenses.all_lines": "Tous les postes",
        "expenses.all_states": "Tous les etats",
        "expenses.state_draft": "Brouillon",
        "expenses.state_pending": "En attente de revision",
        "expenses.state_validated": "Validee",
        "expenses.state_rejected": "Rejetee",
        "expenses.state_justified": "Justifiee",
        "expenses.all_locations": "Toutes les localisations",
        "expenses.all_funders": "Tous les financeurs",
        # Expenses - table headers
        "expenses.col_date": "Date",
        "expenses.col_concept": "Description",
        "expenses.col_doc": "Doc",
        "expenses.col_issuer": "Emetteur",
        "expenses.col_line": "Poste",
        "expenses.col_amount": "Montant",
        "expenses.col_imputable": "Imputable",
        "expenses.col_funded_by": "Finance par",
        "expenses.col_location": "Localisation",
        "expenses.col_state": "Etat",
        "expenses.col_actions": "Actions",
        # Expenses - table states
        "expenses.badge_draft": "Brouillon",
        "expenses.badge_pending": "En attente",
        "expenses.badge_validated": "Validee",
        "expenses.badge_rejected": "Rejetee",
        "expenses.badge_justified": "Justifiee",
        # Expenses - actions
        "expenses.view_doc": "Voir le document",
        "expenses.upload_invoice": "Telecharger facture (requis pour valider)",
        "expenses.no_doc": "Sans document",
        "expenses.edit": "Modifier",
        "expenses.validate": "Valider",
        "expenses.confirm_validate": "Valider cette depense? Le budget execute sera mis a jour.",
        "expenses.confirm_validate_short": "Valider cette depense?",
        "expenses.doc_required": "Facture requise pour valider",
        "expenses.delete": "Supprimer",
        "expenses.confirm_delete": "Supprimer cette depense?",
        "expenses.reject": "Rejeter",
        "expenses.confirm_reject": "Rejeter cette depense?",
        "expenses.revert_draft": "Revenir au brouillon",
        "expenses.confirm_revert": "Revenir au brouillon? Le montant sera soustrait du budget execute.",
        "expenses.no_expenses": "Aucune depense enregistree",
        "expenses.no_expenses_desc": "Aucune depense enregistree pour ce projet. Cliquez sur \"Nouvelle Depense\" pour commencer.",
        # Expenses - form
        "expenses.edit_expense": "Modifier la Depense",
        "expenses.invoice_date": "Date de Facture",
        "expenses.budget_line": "Poste Budgetaire",
        "expenses.select_line": "Selectionner un poste...",
        "expenses.concept": "Description",
        "expenses.concept_placeholder": "Description de la depense",
        "expenses.issuer": "Emetteur",
        "expenses.issuer_placeholder": "Nom du fournisseur",
        "expenses.person": "Personne",
        "expenses.person_placeholder": "Personne responsable (facultatif)",
        "expenses.amounts": "Montants",
        "expenses.original_amount": "Montant Original",
        "expenses.currency": "Devise",
        "expenses.exchange_rate": "Taux de Change",
        "expenses.amount_eur": "Montant en EUR",
        "expenses.imputation_pct": "% Imputation",
        "expenses.imputable_amount": "Montant imputable:",
        "expenses.location": "Localisation",
        "expenses.funded_by": "Finance par",
        "expenses.notes": "Observations",
        "expenses.notes_placeholder": "Notes supplementaires (facultatif)",
        "expenses.cancel": "Annuler",
        "expenses.save_changes": "Enregistrer",
        "expenses.create_expense": "Creer la Depense",
        # Expenses - upload modal
        "expenses.upload_title": "Telecharger Justificatif",
        "expenses.upload_label": "Document justificatif (facture)",
        "expenses.upload_hint": "Formats: PDF, images, Word, Excel",
        "expenses.upload_doc": "Telecharger le document",
        "expenses.expense_label": "Depense:",
        "expenses.line_label": "Poste:",
        "expenses.amount_label": "Montant:",
        # Timer
        "timer.hours_remaining": "restantes",
        "timer.expired": "Session expiree",
        # Marco Logico - tab
        "ml.general_objective": "Objectif General",
        "ml.save": "Enregistrer",
        "ml.general_objective_indicators": "Indicateurs de l'Objectif General",
        "ml.add_indicator": "+ Indicateur",
        "ml.framework_structure": "Structure du Cadre Logique",
        "ml.add_specific_objective": "+ Objectif Specifique",
        "ml.describe_general_objective": "Decrivez l'objectif general du projet...",
        # Marco Logico - summary
        "ml.objectives": "Objectifs",
        "ml.results": "Resultats",
        "ml.activities": "Activites",
        "ml.indicators": "Indicateurs",
        "ml.average_progress": "Avancement Moyen",
        "ml.completed": "Completees",
        "ml.in_progress": "En cours",
        "ml.pending": "En attente",
        # Marco Logico - tree
        "ml.no_objectives": "Aucun objectif specifique defini.",
        "ml.click_add_objective": "Cliquez sur \"+ Objectif Specifique\" pour commencer.",
        "ml.add_result": "Ajouter Resultat",
        "ml.add_indicator_title": "Ajouter Indicateur",
        "ml.edit_objective": "Modifier l'Objectif",
        "ml.delete": "Supprimer",
        "ml.confirm_delete_objective": "Supprimer cet objectif et tous ses elements?",
        # Marco Logico - result
        "ml.add_activity": "Ajouter Activite",
        "ml.edit_result": "Modifier le Resultat",
        "ml.confirm_delete_result": "Supprimer ce resultat et toutes ses activites?",
        # Marco Logico - activity
        "ml.verification_sources": "Sources de verification",
        "ml.no_sources": "sans sources",
        "ml.edit_activity": "Modifier l'Activite",
        "ml.new_activity": "Nouvelle Activite",
        "ml.create_activity": "Creer l'Activite",
        "ml.confirm_delete_activity": "Supprimer cette activite?",
        "ml.planned_dates": "Dates prevues",
        "ml.actual_dates": "Dates reelles",
        # Marco Logico - form fields
        "ml.code": "Code",
        "ml.status": "Etat",
        "ml.description": "Description",
        "ml.activity_description_placeholder": "Description de l'activite...",
        "ml.start": "Debut",
        "ml.end": "Fin",
        "ml.cancel": "Annuler",
        "ml.save_changes": "Enregistrer",
        # Marco Logico - indicator
        "ml.update_value": "Mettre a jour la valeur",
        "ml.edit_indicator": "Modifier l'indicateur",
        "ml.view_history": "Voir l'historique",
        "ml.confirm_delete_indicator": "Supprimer cet indicateur?",
        "ml.base": "Base",
        "ml.target": "Cible",
        "ml.current": "Actuel",
        "ml.unit": "Unite de mesure",
        "ml.verification_source": "Source de verification",
        # Documents - tab
        "docs.total": "Total",
        "docs.sealed": "Scelles",
        "docs.pending": "En attente",
        "docs.linked": "Lies",
        "docs.unlinked": "Non lies",
        "docs.total_size": "Taille totale:",
        "docs.drag_files": "Glissez des fichiers ici ou cliquez pour selectionner",
        "docs.category": "Categorie",
        "docs.description_optional": "Description (facultatif)",
        "docs.description_placeholder": "Description du document...",
        "docs.upload": "Telecharger le document",
        "docs.all_categories": "Toutes les categories",
        "docs.all_statuses": "Tous les etats",
        "docs.sealed_filter": "Scelles",
        "docs.unsealed_filter": "Non scelles",
        "docs.all": "Tous",
        "docs.linked_filter": "Lies",
        "docs.unlinked_filter": "Non lies",
        "docs.download_zip_title": "Telecharger tout en ZIP",
        "docs.download_zip": "Telecharger ZIP",
        # Documents - table
        "docs.col_preview": "Apercu",
        "docs.col_document": "Document",
        "docs.col_size": "Taille",
        "docs.col_date": "Date",
        "docs.col_status": "Etat",
        "docs.col_linked": "Lie",
        "docs.col_actions": "Actions",
        "docs.status_sealed": "Scelle",
        "docs.status_pending": "En attente",
        "docs.status_unlinked": "Non lie",
        "docs.verification_sources_count": "source(s) de verification",
        "docs.download": "Telecharger",
        "docs.preview_action": "Previsualiser",
        "docs.seal_document": "Sceller le document",
        "docs.confirm_seal": "Sceller ce document? Cette action est irreversible.",
        "docs.confirm_delete": "Supprimer ce document?",
        "docs.no_documents": "Aucun document",
        "docs.upload_first": "Telechargez le premier document en utilisant le formulaire ci-dessus.",
        # Documents - preview modal
        "docs.preview_unavailable": "Apercu non disponible pour ce type de fichier.",
        "docs.download_file": "Telecharger le fichier",
        "docs.info_category": "Categorie:",
        "docs.info_size": "Taille:",
        "docs.info_uploaded": "Telecharge:",
        "docs.info_sealed": "Scelle:",
        "docs.yes": "Oui",
        "docs.close": "Fermer",
    },
    "en": {
        # Login
        "login.title": "Counterpart Access - CooperApp",
        "login.subtitle": "Counterpart Portal",
        "login.error_empty": "Please enter a project code.",
        "login.error_invalid": "Invalid project code or the project is not in execution.",
        "login.code_label": "Project Code",
        "login.code_placeholder": "E.g.: PRY-2024-001",
        "login.code_help": "Enter the project accounting code to access.",
        "login.submit": "Access Portal",
        "login.or": "or",
        "login.internal_access": "Internal access (Microsoft)",
        "login.language": "Language",
        # Portal / navbar
        "portal.counterpart": "Counterpart",
        "portal.logout": "Log out",
        "portal.marco_logico": "Logical Framework",
        "portal.documentos": "Documents",
        "portal.loading": "Loading...",
        "portal.presupuesto": "Budget",
        "portal.gastos": "Expenses",
        # Expenses
        "expenses.new_expense": "New Expense",
        "expenses.submit_expense": "Submit Expense",
        "expenses.counterpart_notice": "This expense will be sent directly for review by the project coordinator.",
        "expenses.upload_receipt": "Upload Receipt",
        # Budget
        "budget.title": "Budget",
        "budget.subvencion": "Grant (EUR)",
        "budget.total_approved": "Total Approved",
        "budget.available": "Available",
        "budget.assigned": "Assigned",
        "budget.max_indirect": "Max. indirect",
        "budget.max_personnel": "Max. personnel",
        "budget.audit_optional": "Audit optional (grant < 30,000 EUR)",
        "budget.col_code": "Code",
        "budget.col_item": "Budget Line",
        "budget.col_approved": "Approved",
        "budget.col_exec_spain": "Exec. Spain",
        "budget.col_exec_field": "Exec. Field",
        "budget.col_total_exec": "Total Exec.",
        "budget.col_difference": "Difference",
        "budget.col_exec_pct": "% Exec.",
        "budget.spain_only": "Spain only",
        "budget.max_pct": "max",
        "budget.optional_badge": "Optional for grants < 30,000 EUR",
        "budget.distribute_by_funder": "Distribute by funder",
        "budget.deviation_alert": "Deviation greater than 10%",
        "budget.max_exceeded": "Exceeds maximum percentage",
        "budget.subtotal": "Subtotal",
        "budget.legend_spain_only": "Spain-only line",
        "budget.legend_deviation": "Deviation > 10%",
        "budget.legend_indirect_exceeded": "Indirect >",
        "budget.legend_personnel_exceeded": "Personnel >",
        "budget.legend_optional": "Optional line",
        "budget.no_budget": "No budget configured",
        "budget.no_budget_desc": "The current funder has no budget templates defined, or the budget has not been initialized correctly.",
        "budget.select_funder_help": "If you want to use templates from another funder, select one below:",
        "budget.funder_label": "Funder",
        "budget.select_funder": "Select a funder...",
        "budget.initialize": "Initialize Budget",
        "budget.distribution_title": "Distribution by Funder",
        "budget.distribution_total": "Total:",
        "budget.save_distribution": "Save Distribution",
        # Budget - funding summary
        "budget.funding_by_source": "Funding by Source",
        "budget.col_source": "Source",
        "budget.col_executed": "Executed",
        # Budget - funding sources
        "budget.funding_sources": "Funding Sources",
        "budget.source_agencia": "Agency",
        "budget.source_prodiversa": "Prodiversa",
        "budget.source_contraparte": "Counterpart",
        "budget.source_otro": "Other",
        "budget.delete_source": "Delete source",
        "budget.confirm_delete_source": "Delete source? Only possible if it has no associated expenses.",
        "budget.source_name_placeholder": "Funder name",
        "budget.add_source": "+ Add Source",
        # Budget - category names
        "budget.cat.servicios": "Services",
        "budget.cat.personal": "Personnel",
        "budget.cat.gastos_directos": "Direct Expenses",
        "budget.cat.inversiones": "Investments",
        "budget.cat.indirectos": "Indirect Costs",
        # Budget lines - AACID
        "bl.AACID.A.I.1": "Identification and formulation",
        "bl.AACID.A.I.2": "External evaluation",
        "bl.AACID.A.I.3": "External audit",
        "bl.AACID.A.I.4": "Other technical services",
        "bl.AACID.A.I.5": "Rentals",
        "bl.AACID.A.I.6": "Materials and supplies",
        "bl.AACID.A.I.7": "Operating costs",
        "bl.AACID.A.I.8": "Travel and per diem",
        "bl.AACID.A.I.9.a": "Local staff",
        "bl.AACID.A.I.9.b": "Expatriate staff",
        "bl.AACID.A.I.9.c": "Headquarters staff",
        "bl.AACID.A.I.10": "Volunteering",
        "bl.AACID.A.I.11": "Testimony",
        "bl.AACID.A.I.12": "Awareness raising",
        "bl.AACID.A.I.13": "Bank charges",
        "bl.AACID.A.I.14": "Revolving fund",
        "bl.AACID.A.II.1": "Land",
        "bl.AACID.A.II.2": "Construction works",
        "bl.AACID.A.II.3": "Equipment",
        "bl.AACID.B": "Indirect costs",
        # Budget lines - AECID
        "bl.AECID.AI.1": "Local staff",
        "bl.AECID.AI.2": "Expatriate staff",
        "bl.AECID.AI.3": "Volunteer staff",
        "bl.AECID.AI.4": "Headquarters staff in Spain",
        "bl.AECID.AI.5": "Travel, accommodation and per diem",
        "bl.AECID.AI.6": "Equipment, materials and supplies",
        "bl.AECID.AI.7": "Technical and professional services",
        "bl.AECID.AI.8": "Operations",
        "bl.AECID.AI.9": "Audits",
        "bl.AECID.AI.10": "Evaluations",
        "bl.AECID.AI.11": "Other direct expenses",
        "bl.AECID.B": "Indirect costs",
        # Budget lines - DIPU
        "bl.DIPU.1": "Local staff",
        "bl.DIPU.2": "Expatriate staff",
        "bl.DIPU.3": "Headquarters staff",
        "bl.DIPU.4": "Per diem and travel",
        "bl.DIPU.5": "Equipment and supplies",
        "bl.DIPU.6": "Technical execution (works, services)",
        "bl.DIPU.7": "Operations and maintenance",
        "bl.DIPU.8": "Audit and evaluation",
        "bl.DIPU.9": "Administrative/indirect costs",
        # Budget lines - AYTO
        "bl.AYTO.1": "Personnel costs",
        "bl.AYTO.2": "Current expenses",
        "bl.AYTO.3": "Investment expenses",
        "bl.AYTO.4": "Travel and displacement costs",
        "bl.AYTO.5": "Audit/evaluation costs",
        "bl.AYTO.6": "Indirect costs",
        # Expenses - summary
        "expenses.registered": "Registered",
        "expenses.pending": "Pending",
        "expenses.validated": "Validated",
        "expenses.justified": "Justified",
        "expenses.total_registered": "Total registered:",
        "expenses.total_validated": "Validated:",
        "expenses.spain": "Spain",
        "expenses.field": "Field",
        # Expenses - filters
        "expenses.all_lines": "All budget lines",
        "expenses.all_states": "All states",
        "expenses.state_draft": "Draft",
        "expenses.state_pending": "Pending review",
        "expenses.state_validated": "Validated",
        "expenses.state_rejected": "Rejected",
        "expenses.state_justified": "Justified",
        "expenses.all_locations": "All locations",
        "expenses.all_funders": "All funders",
        # Expenses - table headers
        "expenses.col_date": "Date",
        "expenses.col_concept": "Concept",
        "expenses.col_doc": "Doc",
        "expenses.col_issuer": "Issuer",
        "expenses.col_line": "Budget Line",
        "expenses.col_amount": "Amount",
        "expenses.col_imputable": "Imputable",
        "expenses.col_funded_by": "Funded by",
        "expenses.col_location": "Location",
        "expenses.col_state": "Status",
        "expenses.col_actions": "Actions",
        # Expenses - table states
        "expenses.badge_draft": "Draft",
        "expenses.badge_pending": "Pending",
        "expenses.badge_validated": "Validated",
        "expenses.badge_rejected": "Rejected",
        "expenses.badge_justified": "Justified",
        # Expenses - actions
        "expenses.view_doc": "View document",
        "expenses.upload_invoice": "Upload invoice (required to validate)",
        "expenses.no_doc": "No document",
        "expenses.edit": "Edit",
        "expenses.validate": "Validate",
        "expenses.confirm_validate": "Validate this expense? The executed budget will be updated.",
        "expenses.confirm_validate_short": "Validate this expense?",
        "expenses.doc_required": "Invoice required to validate",
        "expenses.delete": "Delete",
        "expenses.confirm_delete": "Delete this expense?",
        "expenses.reject": "Reject",
        "expenses.confirm_reject": "Reject this expense?",
        "expenses.revert_draft": "Revert to draft",
        "expenses.confirm_revert": "Revert to draft? The amount will be subtracted from the executed budget.",
        "expenses.no_expenses": "No expenses registered",
        "expenses.no_expenses_desc": "No expenses registered for this project. Click \"New Expense\" to start.",
        # Expenses - form
        "expenses.edit_expense": "Edit Expense",
        "expenses.invoice_date": "Invoice Date",
        "expenses.budget_line": "Budget Line",
        "expenses.select_line": "Select budget line...",
        "expenses.concept": "Concept",
        "expenses.concept_placeholder": "Expense description",
        "expenses.issuer": "Issuer",
        "expenses.issuer_placeholder": "Supplier name",
        "expenses.person": "Person",
        "expenses.person_placeholder": "Responsible person (optional)",
        "expenses.amounts": "Amounts",
        "expenses.original_amount": "Original Amount",
        "expenses.currency": "Currency",
        "expenses.exchange_rate": "Exchange Rate",
        "expenses.amount_eur": "Amount in EUR",
        "expenses.imputation_pct": "% Imputation",
        "expenses.imputable_amount": "Imputable amount:",
        "expenses.location": "Location",
        "expenses.funded_by": "Funded by",
        "expenses.notes": "Notes",
        "expenses.notes_placeholder": "Additional notes (optional)",
        "expenses.cancel": "Cancel",
        "expenses.save_changes": "Save Changes",
        "expenses.create_expense": "Create Expense",
        # Expenses - upload modal
        "expenses.upload_title": "Upload Receipt",
        "expenses.upload_label": "Receipt document (invoice)",
        "expenses.upload_hint": "Formats: PDF, images, Word, Excel",
        "expenses.upload_doc": "Upload document",
        "expenses.expense_label": "Expense:",
        "expenses.line_label": "Budget line:",
        "expenses.amount_label": "Amount:",
        # Timer
        "timer.hours_remaining": "remaining",
        "timer.expired": "Session expired",
        # Marco Logico - tab
        "ml.general_objective": "General Objective",
        "ml.save": "Save",
        "ml.general_objective_indicators": "General Objective Indicators",
        "ml.add_indicator": "+ Indicator",
        "ml.framework_structure": "Logical Framework Structure",
        "ml.add_specific_objective": "+ Specific Objective",
        "ml.describe_general_objective": "Describe the general objective of the project...",
        # Marco Logico - summary
        "ml.objectives": "Objectives",
        "ml.results": "Results",
        "ml.activities": "Activities",
        "ml.indicators": "Indicators",
        "ml.average_progress": "Average Progress",
        "ml.completed": "Completed",
        "ml.in_progress": "In progress",
        "ml.pending": "Pending",
        # Marco Logico - tree
        "ml.no_objectives": "No specific objectives defined.",
        "ml.click_add_objective": "Click \"+ Specific Objective\" to begin.",
        "ml.add_result": "Add Result",
        "ml.add_indicator_title": "Add Indicator",
        "ml.edit_objective": "Edit Objective",
        "ml.delete": "Delete",
        "ml.confirm_delete_objective": "Delete this objective and all its elements?",
        # Marco Logico - result
        "ml.add_activity": "Add Activity",
        "ml.edit_result": "Edit Result",
        "ml.confirm_delete_result": "Delete this result and all its activities?",
        # Marco Logico - activity
        "ml.verification_sources": "Verification sources",
        "ml.no_sources": "no sources",
        "ml.edit_activity": "Edit Activity",
        "ml.new_activity": "New Activity",
        "ml.create_activity": "Create Activity",
        "ml.confirm_delete_activity": "Delete this activity?",
        "ml.planned_dates": "Planned dates",
        "ml.actual_dates": "Actual dates",
        # Marco Logico - form fields
        "ml.code": "Code",
        "ml.status": "Status",
        "ml.description": "Description",
        "ml.activity_description_placeholder": "Activity description...",
        "ml.start": "Start",
        "ml.end": "End",
        "ml.cancel": "Cancel",
        "ml.save_changes": "Save Changes",
        # Marco Logico - indicator
        "ml.update_value": "Update value",
        "ml.edit_indicator": "Edit indicator",
        "ml.view_history": "View history",
        "ml.confirm_delete_indicator": "Delete this indicator?",
        "ml.base": "Baseline",
        "ml.target": "Target",
        "ml.current": "Current",
        "ml.unit": "Unit of measurement",
        "ml.verification_source": "Verification source",
        # Documents - tab
        "docs.total": "Total",
        "docs.sealed": "Sealed",
        "docs.pending": "Pending",
        "docs.linked": "Linked",
        "docs.unlinked": "Unlinked",
        "docs.total_size": "Total size:",
        "docs.drag_files": "Drag files here or click to select",
        "docs.category": "Category",
        "docs.description_optional": "Description (optional)",
        "docs.description_placeholder": "Document description...",
        "docs.upload": "Upload document",
        "docs.all_categories": "All categories",
        "docs.all_statuses": "All statuses",
        "docs.sealed_filter": "Sealed",
        "docs.unsealed_filter": "Unsealed",
        "docs.all": "All",
        "docs.linked_filter": "Linked",
        "docs.unlinked_filter": "Unlinked",
        "docs.download_zip_title": "Download all as ZIP",
        "docs.download_zip": "Download ZIP",
        # Documents - table
        "docs.col_preview": "Preview",
        "docs.col_document": "Document",
        "docs.col_size": "Size",
        "docs.col_date": "Date",
        "docs.col_status": "Status",
        "docs.col_linked": "Linked",
        "docs.col_actions": "Actions",
        "docs.status_sealed": "Sealed",
        "docs.status_pending": "Pending",
        "docs.status_unlinked": "Unlinked",
        "docs.verification_sources_count": "verification source(s)",
        "docs.download": "Download",
        "docs.preview_action": "Preview",
        "docs.seal_document": "Seal document",
        "docs.confirm_seal": "Seal this document? This action cannot be undone.",
        "docs.confirm_delete": "Delete this document?",
        "docs.no_documents": "No documents",
        "docs.upload_first": "Upload the first document using the form above.",
        # Documents - preview modal
        "docs.preview_unavailable": "Preview not available for this file type.",
        "docs.download_file": "Download file",
        "docs.info_category": "Category:",
        "docs.info_size": "Size:",
        "docs.info_uploaded": "Uploaded:",
        "docs.info_sealed": "Sealed:",
        "docs.yes": "Yes",
        "docs.close": "Close",
    },
}


def detect_language(accept_language_header: str | None) -> str:
    if not accept_language_header:
        return "es"
    for part in accept_language_header.split(","):
        lang = part.split(";")[0].strip().lower()
        # Match exact or prefix (e.g. "fr-FR" -> "fr")
        if lang in SUPPORTED_LANGUAGES:
            return lang
        prefix = lang.split("-")[0]
        if prefix in SUPPORTED_LANGUAGES:
            return prefix
    return "es"


def get_translator(lang: str):
    translations = TRANSLATIONS.get(lang, TRANSLATIONS["es"])
    fallback = TRANSLATIONS["es"]

    def t(key: str) -> str:
        return translations.get(key, fallback.get(key, key))

    return t
